!function(e){e.fn.dpNumberPicker=function(){var n={min:!1,max:!1,value:0,step:1,format:!1,editable:!0,addText:"+",subText:"-",formatter:function(e){return e},beforeIncrease:function(){},afterIncrease:function(){},beforeDecrease:function(){},afterDecrease:function(){},beforeChange:function(){},afterChange:function(){},onMin:function(){},onMax:function(){}},t=arguments;if(arguments.length>0&&"string"==typeof arguments[0]){var o=(t=arguments)[0].toLowerCase();return"increase"!=o&&"add"!=o&&"addition"!=o&&"incrament"!=o||this.each(function(){this.increase()}),"decrease"!=o&&"sub"!=o&&"subtract"!=o&&"decrament"!=o||this.each(function(){this.decrease()}),t.length>1&&("change"==o||"setvalue"==o||"value"==o||"set"==o)&&this.each(function(){this.setValue(t[1])}),t.length>1&&("update"==o||"refresh"==o)&&this.each(function(){this.update()}),this}function i(e,n){if("string"==typeof n&&n.length>0){var t=n.indexOf(".");if(-1==t){for(var o=Math.floor(e).toString();o.length<n.length;)o="0"+o;return o}for(o=Math.floor(e).toString();o.length<t;)o="0"+o;for(var i=Math.round(Math.round(Math.pow(10,n.length-t-1))*(e-Math.floor(e))).toString();i.length<n.length-t-1;)i+="0";return o+"."+i}return e}function a(e){for(;isNaN(parseFloat(e))&&e.length>0;)e=e.substring(1);return parseFloat(e)}return arguments.length>0&&"object"==typeof arguments[0]?this.each(function(){this.options=e.extend(n,t[0])}):this.each(function(){this.options=n}),this.each(function(){var n=this,t=e(this),o="<div class='dp-numberPicker-sub'>"+n.options.subText+"</div><input type='text' class='dp-numberPicker-input'";n.options.editable||(o+=" disabled"),n.options.format?o+=" value='"+n.options.formatter.call(n,i(n.options.value,n.options.format))+"' ":o+=" value='"+n.options.formatter.call(n,n.options.value)+"' ",o+="' /><div class='dp-numberPicker-add'>"+n.options.addText+"</div>",t.addClass("dp-numberPicker").html(o),n.increase=function(){t.children().removeClass("disabled");var e=!1,o=n.options.value+n.options.step;return!1!==n.options.max&&n.options.max<o&&(o=n.options.max),o!=n.options.value&&(n.options.beforeChange.call(n),n.options.beforeIncrease.call(n),e=!0),!1!==n.options.max&&n.options.max==o&&(t.children(".dp-numberPicker-add").addClass("disabled"),n.options.onMax.call(n)),n.options.value=o,n.update(),e&&(n.options.afterChange.call(n),n.options.afterIncrease.call(n)),this},n.decrease=function(){t.children().removeClass("disabled");var e=!1,o=n.options.value-n.options.step;return!1!==n.options.min&&n.options.min>o&&(o=n.options.min),o!=n.options.value&&(n.options.beforeChange.call(n),n.options.beforeDecrease.call(n),e=!0),!1!==n.options.min&&n.options.min==o&&(t.children(".dp-numberPicker-sub").addClass("disabled"),n.options.onMin.call(n)),n.options.value=o,n.update(),e&&(n.options.afterChange.call(n),n.options.afterDecrease.call(n)),this},n.setValue=function(e){t.children().removeClass("disabled");var o=!1,i=!1;return"string"==typeof e&&(e=a(e)),isNaN(e)&&(e=n.options.value),!1!==n.options.max&&n.options.max<e&&(e=n.options.max),!1!==n.options.min&&n.options.min>e&&(e=n.options.min),n.options.value>e&&(n.options.beforeChange.call(n),n.options.beforeDecrease.call(n),o=!0),n.options.value<e&&(n.options.beforeChange.call(n),n.options.beforeIncrease.call(n),o=!0,i=!0),!1!==n.options.max&&n.options.max==e&&(t.children(".dp-numberPicker-add").addClass("disabled"),n.options.onMax.call(n)),!1!==n.options.min&&n.options.min==e&&(t.children(".dp-numberPicker-sub").addClass("disabled"),n.options.onMin.call(n)),n.options.value=e,n.update(),o&&(n.options.afterChange(),i?n.options.afterIncrease.call(n):n.options.afterDecrease.call(n)),this},n.update=function(){return n.options.format&&n.options.format.length>0?t.children(".dp-numberPicker-input").val(n.options.formatter.call(n,i(n.options.value,n.options.format))):t.children(".dp-numberPicker-input").val(n.options.formatter.call(n,n.options.value)),this},t.children(".dp-numberPicker-add").on("click",function(){n.increase()}),t.children(".dp-numberPicker-sub").on("click",function(){n.decrease()}),t.children(".dp-numberPicker-input").on("change",function(){n.setValue(a(t.children(".dp-numberPicker-input").val()))})}),this}}(jQuery);